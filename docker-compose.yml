version: '2'

services:
    elasticsearch:
        image: 'docker.elastic.co/elasticsearch/elasticsearch:5.4.0'
        ports:
            - '9200:9200'
        volumes:
            - ./elasticsearch/data:/usr/share/elasticsearch/data
            - ./elasticsearch/plugins:/usr/share/elasticsearch/plugins
            - ./elasticsearch/config/elasticsearch.yml:/usr/share/elasticsearch/config/elasticsearch.yml
    elastic_frontend:
        image: 'mobz/elasticsearch-head:5-alpine'
        ports:
            - '9100:9100'
    frontend:
        build: ./frontend/
        ports:
            - '420:8080'
        volumes:
            - ./frontend/public:/var/www
    redis:
        image: 'redis:alpine'
        ports:
            - '6379:6379'
        volumes:
            - './redis/data:/data'
    webdis:
        image: 'anapsix/webdis:latest'
        ports:
            - '7379:7379'
        links:
            - 'redis:redis'
